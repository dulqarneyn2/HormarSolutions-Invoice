<!DOCTYPE html>
<html>
    <head>
        <title>Invoice Generator</title>
        <link rel="stylesheet" type="text/css" href="style.css">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
        <link rel="stylesheet" href="./external-scripts/materialize.min.css">	
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        
        <!-- The core Firebase JS SDK is always required and must be listed first -->
        <script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-app.js"></script>

        <!-- TODO: Add SDKs for Firebase products that you want to use
             https://firebase.google.com/docs/web/setup#available-libraries -->
        <script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-analytics.js"></script>


        <script>
        // Initialize Firebase
        var config = {
           apiKey: "AIzaSyDE_vm_6n0cigmc-yi-Cf9WVwlScEv4E-M",
           authDomain: "invoice-generator-88dff.firebaseapp.com",
           databaseURL: "https://invoice-generator-88dff-default-rtdb.firebaseio.com",
           projectId: "invoice-generator-88dff",
           storageBucket: "invoice-generator-88dff.appspot.com",
           messagingSenderId: "558578323099",
           appId: "1:558578323099:web:97422f4ff24ec449e8403e",
           measurementId: "G-3WN61KN38Q"
            
        };
        firebase.initializeApp(config);
        </script>

        <script src="https://cdn.firebase.com/libs/firebaseui/3.1.1/firebaseui.js"></script>
        <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.1.1/firebaseui.css" />
    </head>
    
    <body onload="loadContainer()">

        <div id="invoice_form" class="row">
            <div class="col offset-s2 s8">
                <div class="card white">
                    <div class="card-image" style="
                        background-color: #8EC5FC; 
                        background-image: linear-gradient(62deg, #8EC5FC 0%, #E0C3FC 100%);
                        height: 50px;">
                    </div>
                    <div class="card-title">
                        Welcome to Invoice Generator!
                    </div>

                    <div class="card-content">
                        <p>
                            One stop to generate and manage all your invoices!<br /> 
                            Get started by signing in &#x1f44d;
                        </p>
                        <div id="firebaseui-auth-container"></div>
                    </div>
                </div>
            </div>

            <div class="col offset-s2 s8">
                <div class="card white">
                    <div class="card-content">
                        <p>
                            Made with &#x1F497 by 
                            <b>
                                <a href="https://www.linkedin.com/in/mohamed-abdullahi-416065185/">
                                    Mohamed Abdullahi AkA~ Dulqarneyn
                                </a>
                            </b>
                        </p>
                    </div>
                </div>
            </div>
        </div>

    </body>

    <script>
        function loadContainer() {
            var ui = new firebaseui.auth.AuthUI(firebase.auth());

            ui.start('#firebaseui-auth-container', {
                signInSuccessUrl: 'pages/new_invoice.html',
                signInOptions: [
                    // firebase.auth.EmailAuthProvider.PROVIDER_ID,
                    firebase.auth.GoogleAuthProvider.PROVIDER_ID,
                    // firebase.auth.FacebookAuthProvider.PROVIDER_ID,
                    // firebase.auth.TwitterAuthProvider.PROVIDER_ID,
                    // firebase.auth.GithubAuthProvider.PROVIDER_ID
                ],
            });
        }

        firebase.auth().onAuthStateChanged(function(user) {
            if (user) {
                window.location = "pages/home.html";
            } else {
                // none
            }
        });
    </script>

    <script src="./external-scripts/materialize.min.js"></script>
</html>
